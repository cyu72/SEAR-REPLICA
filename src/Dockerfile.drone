# Really need to slim down this image...really big for no reason..
FROM alpine:latest

WORKDIR /app

COPY drone/*.cpp drone/*.hpp drone/CMakeLists.txt /app/

RUN apk add --no-cache g++ bind-tools make cmake protobuf protobuf-dev gtest-dev git openssl-dev
    
RUN cmake .

RUN make

EXPOSE 65456

CMD ["./drone"]